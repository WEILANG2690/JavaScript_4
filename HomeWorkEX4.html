<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
    <meta charset="utf-8" />
    <script>
         var picN = 0;    //圖片記數
         var tNum = 5; //圖片張數
         document.addEventListener("DOMContentLoaded", function () {
             //document.querySelectorAll('img');
            //var num = 1;
            //var tNum = 5;
             //var time = setInterval(function () { runT(tNum); }, 2000);


             for (var i = 1; i <= tNum; i++) {
                 document.getElementById("con" + i).style.display = "none";
             }
             document.getElementById("con" + (picN+1)).style.display = "block";
            var time = setInterval(runT, 2000);
             //setInterval(runT, 2000);
            document.getElementById("stop").onclick = function () { stopT(time); }
            document.getElementById("start").onclick = function () { time = startT(time); }//將startT(time)存給變數
            document.getElementById("next").onclick = function () { next(time) }
            document.getElementById("back").onclick = function () { back(time) }
         });
        //function runT(tNum) {
         function runT() {
             //自動輪播
            for (var i = 1; i <= tNum; i++) {
                document.getElementById("con" + i).style.display = "none";
            }
            picN++;
            document.getElementById("con" + picN).style.display = "block";
             //alert(picN);
            console.log(picN);

            if (picN ==tNum) {  //當picN到第五張
                picN = 0;           // picN回到第一張
            }
         }
         function stopT(time) {
             //時間暫停
             clearInterval(time);
         }
         function startT(time) {
             //暫停後繼續播放
             return setInterval(runT, 2000);
         }
         function next(time) {
             //回下一張
             clearInterval(time);
             var imgs = document.getElementsByTagName('div');
             for (var i = 1; i <= tNum; i++) {
                 document.getElementById("con" + i).style.display = "none";
             }
             if (picN >= 5) { // 如果picN >=5;
                 picN = 1;     // picN回到第一張圖
             }
             else {          //否則執行 picN
                 picN++;
             }
             document.getElementById("con" + picN).style.display = "block";

         }

         function back(time) {
             //回上一張
             clearInterval(time);
             var imgs = document.getElementsByTagName('div');
             for (var i = 1; i <= tNum; i++) {
                 document.getElementById("con" + i).style.display = "none";
             }
             if (picN <= 1) { // 如果picN <=1;
                 picN = 5;     // picN回到第五張圖
             }
             else {          //否則執行 picN--
                 picN--;
             }
             document.getElementById("con" + picN).style.display = "block";

         }

    </script>
    <style>
        div{
            width:650px;
        }

        .st{
            text-align:center;
            border:2px black solid;
            margin:auto;    
        }
        .st1{
            /*display:block;*/
            text-align:center;
        }
    </style>
</head>
<body>
    <div class="st">
        <div id="con1">
            <img src="../PM/PM1.png" />
        </div>
        <div id="con2">
            <img src="../PM/PM2.png" />
        </div>
        <div id="con3">
            <img src="../PM/PM3.png" />
        </div>
        <div id="con4">
            <img src="../PM/PM4.png" />
        </div>
        <div id="con5">
            <img src="../PM/PM5.png" />
        </div>
        <input type="button" id="back" value="back" /><input id="start" value="start" type="button" />
        <input id="stop" value="stop" type="button" /><input type="button" id="next" value="next" />
    </div>
    <div class="st1">

    </div>
</body>
</html>